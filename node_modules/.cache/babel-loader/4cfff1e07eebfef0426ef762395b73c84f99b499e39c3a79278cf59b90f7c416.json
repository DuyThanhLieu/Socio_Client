{"ast":null,"code":"var _jsxFileName = \"/Users/ThanhLieu/Downloads/Socio_Client-master/src/modals/ProfileEditAvatar.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport uploadToFirebase from './../firebase/Upload';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProflieEditAvatar = _ref => {\n  _s();\n  let {\n    setOpenUploadAvatar\n  } = _ref;\n  //cf\n  const dispatch = useDispatch();\n\n  //\n  const UserData = useSelector(state => state.AuthReducer.user);\n  const [img, setImg] = useState(null);\n  const handleChangeImg = async () => {\n    let fileImg = img.files[0];\n    console.log('check');\n    dispatch({\n      type: 'UPDATE_AUTH_INFO',\n      payload: {\n        avatar: URL.createObjectURL(fileImg)\n      }\n    });\n    let urlImg = await uploadToFirebase(fileImg);\n    console.log(urlImg, 'chc');\n    await axios.put(`https://beta-server-8uoh.onrender.com/api/v1/users/${UserData._id}`, {\n      curentuserid: UserData._id,\n      avatar: urlImg\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => {\n        setOpenUploadAvatar(false);\n      },\n      className: \"fixed top-0 left-0 right-0 bottom-0 \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"z-50 flex gap-4 flex-col bg-bglight dark:bg-bgmdark p-4 rounded-lg shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",\n        for: \"file_input\",\n        children: \"Change Your Avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setImg(e.target);\n        },\n        className: \"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400\",\n        id: \"file_input\",\n        type: \"file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          handleChangeImg();\n        },\n        className: \"btn-green text-white dark:text-black bg-blue-500 dark:bg-greenyellow\",\n        children: \" Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n_s(ProflieEditAvatar, \"tE4qg4k3W5lDmoRYWG/hUUmm1/w=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = ProflieEditAvatar;\nvar _c;\n$RefreshReg$(_c, \"ProflieEditAvatar\");","map":{"version":3,"names":["axios","React","useState","useDispatch","useSelector","uploadToFirebase","jsxDEV","_jsxDEV","ProflieEditAvatar","_ref","_s","setOpenUploadAvatar","dispatch","UserData","state","AuthReducer","user","img","setImg","handleChangeImg","fileImg","files","console","log","type","payload","avatar","URL","createObjectURL","urlImg","put","_id","curentuserid","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","for","onChange","e","target","id","_c","$RefreshReg$"],"sources":["/Users/ThanhLieu/Downloads/Socio_Client-master/src/modals/ProfileEditAvatar.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport uploadToFirebase from './../firebase/Upload';\n\nexport const ProflieEditAvatar = ({ setOpenUploadAvatar }) => {\n    //cf\n    const dispatch = useDispatch()\n\n\n    //\n    const UserData = useSelector(state => state.AuthReducer.user)\n\n\n    const [img, setImg] = useState(null)\n    const handleChangeImg = async () => {\n\n        let fileImg = img.files[0]\n        console.log('check')\n        dispatch({ type: 'UPDATE_AUTH_INFO', payload: { avatar: URL.createObjectURL(fileImg) } })\n\n        let urlImg = await uploadToFirebase(fileImg)\n        console.log(urlImg, 'chc')\n        await axios.put(`https://beta-server-8uoh.onrender.com/api/v1/users/${UserData._id}`, {\n            curentuserid: UserData._id,\n            avatar: urlImg\n        }\n        )\n    }\n    return (\n        <div className=\"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center\">\n\n            <div onClick={() => { setOpenUploadAvatar(false) }} className=\"fixed top-0 left-0 right-0 bottom-0 \">\n\n            </div>\n            <div className=\"z-50 flex gap-4 flex-col bg-bglight dark:bg-bgmdark p-4 rounded-lg shadow-lg\">\n                <label className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\" for=\"file_input\">Change Your Avatar</label>\n                <input onChange={(e) => { setImg(e.target) }} className=\"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400\" id=\"file_input\" type=\"file\" />\n                <button onClick={() => { handleChangeImg() }} className='btn-green text-white dark:text-black bg-blue-500 dark:bg-greenyellow'> Update</button>\n            </div>\n        </div >\n\n\n\n    )\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,OAAOC,gBAAgB,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,OAAO,MAAMC,iBAAiB,GAAGC,IAAA,IAA6B;EAAAC,EAAA;EAAA,IAA5B;IAAEC;EAAoB,CAAC,GAAAF,IAAA;EACrD;EACA,MAAMG,QAAQ,GAAGT,WAAW,EAAE;;EAG9B;EACA,MAAMU,QAAQ,GAAGT,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,WAAW,CAACC,IAAI,CAAC;EAG7D,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAMiB,eAAe,GAAG,MAAAA,CAAA,KAAY;IAEhC,IAAIC,OAAO,GAAGH,GAAG,CAACI,KAAK,CAAC,CAAC,CAAC;IAC1BC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACpBX,QAAQ,CAAC;MAAEY,IAAI,EAAE,kBAAkB;MAAEC,OAAO,EAAE;QAAEC,MAAM,EAAEC,GAAG,CAACC,eAAe,CAACR,OAAO;MAAE;IAAE,CAAC,CAAC;IAEzF,IAAIS,MAAM,GAAG,MAAMxB,gBAAgB,CAACe,OAAO,CAAC;IAC5CE,OAAO,CAACC,GAAG,CAACM,MAAM,EAAE,KAAK,CAAC;IAC1B,MAAM7B,KAAK,CAAC8B,GAAG,CAAE,sDAAqDjB,QAAQ,CAACkB,GAAI,EAAC,EAAE;MAClFC,YAAY,EAAEnB,QAAQ,CAACkB,GAAG;MAC1BL,MAAM,EAAEG;IACZ,CAAC,CACA;EACL,CAAC;EACD,oBACItB,OAAA;IAAK0B,SAAS,EAAC,sEAAsE;IAAAC,QAAA,gBAEjF3B,OAAA;MAAK4B,OAAO,EAAEA,CAAA,KAAM;QAAExB,mBAAmB,CAAC,KAAK,CAAC;MAAC,CAAE;MAACsB,SAAS,EAAC;IAAsC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAE9F,eACNhC,OAAA;MAAK0B,SAAS,EAAC,8EAA8E;MAAAC,QAAA,gBACzF3B,OAAA;QAAO0B,SAAS,EAAC,8DAA8D;QAACO,GAAG,EAAC,YAAY;QAAAN,QAAA,EAAC;MAAkB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ,eAC3HhC,OAAA;QAAOkC,QAAQ,EAAGC,CAAC,IAAK;UAAExB,MAAM,CAACwB,CAAC,CAACC,MAAM,CAAC;QAAC,CAAE;QAACV,SAAS,EAAC,sMAAsM;QAACW,EAAE,EAAC,YAAY;QAACpB,IAAI,EAAC;MAAM;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,eAC7RhC,OAAA;QAAQ4B,OAAO,EAAEA,CAAA,KAAM;UAAEhB,eAAe,EAAE;QAAC,CAAE;QAACc,SAAS,EAAC,sEAAsE;QAAAC,QAAA,EAAC;MAAO;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAC7I;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACH;AAKf,CAAC;AAAA7B,EAAA,CAxCYF,iBAAiB;EAAA,QAETL,WAAW,EAIXC,WAAW;AAAA;AAAAyC,EAAA,GANnBrC,iBAAiB;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}