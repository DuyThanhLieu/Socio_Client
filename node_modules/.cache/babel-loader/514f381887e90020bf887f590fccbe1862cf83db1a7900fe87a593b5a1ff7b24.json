{"ast":null,"code":"var _jsxFileName = \"/Users/ThanhLieu/Downloads/Socio_Client-master/src/components/Message.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport dfAvatar from '../assets/img/defaultAvatar.png';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Message = _ref => {\n  _s();\n  let {\n    messagesData,\n    messagesEndRef\n  } = _ref;\n  const AuthData = useSelector(state => state.AuthReducer.user);\n  const onlineUser = useSelector(state => state.OnlineUserReducer.onlineUser);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: messagesData && /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: messagesEndRef,\n      className: \"messages  p-4 col-span-2\",\n      children: messagesData === null || messagesData === void 0 ? void 0 : messagesData.map(mess => {\n        var _mess$avatar;\n        {\n          console.log('checkMess', mess);\n        }\n        return (AuthData === null || AuthData === void 0 ? void 0 : AuthData._id) === (mess === null || mess === void 0 ? void 0 : mess.userid) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat chat-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-image avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 rounded-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: (AuthData === null || AuthData === void 0 ? void 0 : AuthData.avatar) || dfAvatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 26,\n                columnNumber: 45\n              }, this), (onlineUser === null || onlineUser === void 0 ? void 0 : onlineUser.findIndex(user => user.userId === (mess === null || mess === void 0 ? void 0 : mess.userid))) !== -1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dot w-[9px] bottom-1 right-0 rounded-full first-line: bg-green-500 absolute h-[9px]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 49\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dot w-[9px] bottom-1 right-0 rounded-full    bg-red-600 absolute h-[9px]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-header\",\n            children: /*#__PURE__*/_jsxDEV(\"time\", {\n              className: \"text-xs opacity-50\",\n              children: moment(mess.createdAt).fromNow() === 'a few seconds ago' ? 'just now' : moment(mess.createdAt).fromNow()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-bubble\",\n            children: mess.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-footer opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 37\n          }, this)]\n        }, mess === null || mess === void 0 ? void 0 : mess._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat chat-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-image avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 rounded-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: (mess === null || mess === void 0 ? void 0 : (_mess$avatar = mess.avatar) === null || _mess$avatar === void 0 ? void 0 : _mess$avatar.length) > 20 ? mess === null || mess === void 0 ? void 0 : mess.avatar : dfAvatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 45\n              }, this), (onlineUser === null || onlineUser === void 0 ? void 0 : onlineUser.findIndex(user => user.userId === (mess === null || mess === void 0 ? void 0 : mess.userid))) !== -1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dot w-[9px] bottom-1 right-0 rounded-full first-line: bg-green-500 absolute h-[9px]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 49\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dot w-[9px] bottom-1 right-0 rounded-full    bg-red-600 absolute h-[9px]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-header\",\n            children: /*#__PURE__*/_jsxDEV(\"time\", {\n              className: \" opacity-50\",\n              children: [\" \", mess.firstname]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-bubble\",\n            children: mess.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-footer opacity-50 capitalize text-xs\",\n            children: moment(mess.createdAt).fromNow() === 'a few seconds ago' ? 'just now' : moment(mess.createdAt).fromNow()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 37\n          }, this)]\n        }, mess === null || mess === void 0 ? void 0 : mess._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 33\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n// {\n//     messagesData && messagesData.map(mess => {\n//         AuthData?._id === mess?.userid ?\n\n//             :\n\n//     })\n\n// }\n_s(Message, \"f/WylROapEcn3n68FKRxrRsaGkU=\", false, function () {\n  return [useSelector, useSelector];\n});\n_c = Message;\nvar _c;\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"names":["React","useState","useSelector","dfAvatar","moment","jsxDEV","_jsxDEV","Fragment","_Fragment","Message","_ref","_s","messagesData","messagesEndRef","AuthData","state","AuthReducer","user","onlineUser","OnlineUserReducer","children","ref","className","map","mess","_mess$avatar","console","log","_id","userid","src","avatar","fileName","_jsxFileName","lineNumber","columnNumber","findIndex","userId","createdAt","fromNow","content","length","firstname","_c","$RefreshReg$"],"sources":["/Users/ThanhLieu/Downloads/Socio_Client-master/src/components/Message.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport dfAvatar from '../assets/img/defaultAvatar.png';\nimport moment from 'moment'\n\nexport const Message = ({ messagesData, messagesEndRef }) => {\n    const AuthData = useSelector(state => state.AuthReducer.user)\n    const onlineUser = useSelector(state => state.OnlineUserReducer.onlineUser)\n\n\n\n    return (\n\n        <>\n            {messagesData &&\n                <div ref={messagesEndRef} className='messages  p-4 col-span-2'>\n\n                    {messagesData?.map(mess => {\n                        { console.log('checkMess', mess) }\n\n                        return (\n                            AuthData?._id === mess?.userid ?\n                                <div key={mess?._id} className=\"chat chat-end\">\n                                    <div className=\"chat-image avatar\">\n                                        <div className=\"w-10 rounded-full\">\n                                            <img src={AuthData?.avatar || dfAvatar} />\n                                            {onlineUser?.findIndex(user => user.userId === mess?.userid) !== -1 ?\n                                                <div className=\"dot w-[9px] bottom-1 right-0 rounded-full first-line: bg-green-500 absolute h-[9px]\"></div>\n                                                :\n                                                <div className=\"dot w-[9px] bottom-1 right-0 rounded-full    bg-red-600 absolute h-[9px]\"></div>\n                                            }\n                                        </div>\n                                    </div>\n                                    <div className=\"chat-header\">\n\n                                        <time className=\"text-xs opacity-50\">{moment(mess.createdAt).fromNow() === 'a few seconds ago' ? 'just now' : moment(mess.createdAt).fromNow()}</time>\n                                    </div>\n                                    <div className=\"chat-bubble\">{mess.content}</div>\n                                    <div className=\"chat-footer opacity-50\">\n\n                                    </div>\n                                </div>\n                                :\n                                <div key={mess?._id} className=\"chat chat-start\">\n                                    <div className=\"chat-image avatar\">\n                                        <div className=\"w-10 rounded-full\">\n                                            <img src={mess?.avatar?.length > 20 ? mess?.avatar : dfAvatar} />\n                                            {onlineUser?.findIndex(user => user.userId === mess?.userid) !== -1 ?\n                                                <div className=\"dot w-[9px] bottom-1 right-0 rounded-full first-line: bg-green-500 absolute h-[9px]\"></div>\n                                                :\n                                                <div className=\"dot w-[9px] bottom-1 right-0 rounded-full    bg-red-600 absolute h-[9px]\"></div>\n                                            }\n                                        </div>\n                                    </div>\n                                    <div className=\"chat-header\">\n\n                                        <time className=\" opacity-50\"> {mess.firstname}</time>\n                                    </div>\n                                    <div className=\"chat-bubble\">{mess.content}</div>\n                                    <div className=\"chat-footer opacity-50 capitalize text-xs\">\n                                        {moment(mess.createdAt).fromNow() === 'a few seconds ago' ? 'just now' : moment(mess.createdAt).fromNow()}\n                                    </div>\n                                </div>\n\n                        )\n                    })}\n                </div>\n            }\n        </>\n\n\n\n\n\n\n\n\n\n    )\n}\n\n// {\n//     messagesData && messagesData.map(mess => {\n//         AuthData?._id === mess?.userid ?\n\n\n\n\n//             :\n\n//     })\n\n\n// }"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,QAAQ,MAAM,iCAAiC;AACtD,OAAOC,MAAM,MAAM,QAAQ;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3B,OAAO,MAAMC,OAAO,GAAGC,IAAA,IAAsC;EAAAC,EAAA;EAAA,IAArC;IAAEC,YAAY;IAAEC;EAAe,CAAC,GAAAH,IAAA;EACpD,MAAMI,QAAQ,GAAGZ,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACC,WAAW,CAACC,IAAI,CAAC;EAC7D,MAAMC,UAAU,GAAGhB,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACI,iBAAiB,CAACD,UAAU,CAAC;EAI3E,oBAEIZ,OAAA,CAAAE,SAAA;IAAAY,QAAA,EACKR,YAAY,iBACTN,OAAA;MAAKe,GAAG,EAAER,cAAe;MAACS,SAAS,EAAC,0BAA0B;MAAAF,QAAA,EAEzDR,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEW,GAAG,CAACC,IAAI,IAAI;QAAA,IAAAC,YAAA;QACvB;UAAEC,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEH,IAAI,CAAC;QAAC;QAEjC,OACI,CAAAV,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEc,GAAG,OAAKJ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,MAAM,iBAC1BvB,OAAA;UAAqBgB,SAAS,EAAC,eAAe;UAAAF,QAAA,gBAC1Cd,OAAA;YAAKgB,SAAS,EAAC,mBAAmB;YAAAF,QAAA,eAC9Bd,OAAA;cAAKgB,SAAS,EAAC,mBAAmB;cAAAF,QAAA,gBAC9Bd,OAAA;gBAAKwB,GAAG,EAAE,CAAAhB,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEiB,MAAM,KAAI5B;cAAS;gBAAA6B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAG,EACzC,CAAAjB,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEkB,SAAS,CAACnB,IAAI,IAAIA,IAAI,CAACoB,MAAM,MAAKb,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,MAAM,EAAC,MAAK,CAAC,CAAC,gBAC/DvB,OAAA;gBAAKgB,SAAS,EAAC;cAAqF;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAO,gBAE3G7B,OAAA;gBAAKgB,SAAS,EAAC;cAA0E;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAO;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAElG;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACJ,eACN7B,OAAA;YAAKgB,SAAS,EAAC,aAAa;YAAAF,QAAA,eAExBd,OAAA;cAAMgB,SAAS,EAAC,oBAAoB;cAAAF,QAAA,EAAEhB,MAAM,CAACoB,IAAI,CAACc,SAAS,CAAC,CAACC,OAAO,EAAE,KAAK,mBAAmB,GAAG,UAAU,GAAGnC,MAAM,CAACoB,IAAI,CAACc,SAAS,CAAC,CAACC,OAAO;YAAE;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAQ;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACpJ,eACN7B,OAAA;YAAKgB,SAAS,EAAC,aAAa;YAAAF,QAAA,EAAEI,IAAI,CAACgB;UAAO;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAO,eACjD7B,OAAA;YAAKgB,SAAS,EAAC;UAAwB;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAEjC;QAAA,GAlBAX,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,GAAG;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAmBb,gBAEN7B,OAAA;UAAqBgB,SAAS,EAAC,iBAAiB;UAAAF,QAAA,gBAC5Cd,OAAA;YAAKgB,SAAS,EAAC,mBAAmB;YAAAF,QAAA,eAC9Bd,OAAA;cAAKgB,SAAS,EAAC,mBAAmB;cAAAF,QAAA,gBAC9Bd,OAAA;gBAAKwB,GAAG,EAAE,CAAAN,IAAI,aAAJA,IAAI,wBAAAC,YAAA,GAAJD,IAAI,CAAEO,MAAM,cAAAN,YAAA,uBAAZA,YAAA,CAAcgB,MAAM,IAAG,EAAE,GAAGjB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,MAAM,GAAG5B;cAAS;gBAAA6B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAG,EAChE,CAAAjB,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEkB,SAAS,CAACnB,IAAI,IAAIA,IAAI,CAACoB,MAAM,MAAKb,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,MAAM,EAAC,MAAK,CAAC,CAAC,gBAC/DvB,OAAA;gBAAKgB,SAAS,EAAC;cAAqF;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAO,gBAE3G7B,OAAA;gBAAKgB,SAAS,EAAC;cAA0E;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAO;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAElG;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACJ,eACN7B,OAAA;YAAKgB,SAAS,EAAC,aAAa;YAAAF,QAAA,eAExBd,OAAA;cAAMgB,SAAS,EAAC,aAAa;cAAAF,QAAA,GAAC,GAAC,EAACI,IAAI,CAACkB,SAAS;YAAA;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAQ;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACpD,eACN7B,OAAA;YAAKgB,SAAS,EAAC,aAAa;YAAAF,QAAA,EAAEI,IAAI,CAACgB;UAAO;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAO,eACjD7B,OAAA;YAAKgB,SAAS,EAAC,2CAA2C;YAAAF,QAAA,EACrDhB,MAAM,CAACoB,IAAI,CAACc,SAAS,CAAC,CAACC,OAAO,EAAE,KAAK,mBAAmB,GAAG,UAAU,GAAGnC,MAAM,CAACoB,IAAI,CAACc,SAAS,CAAC,CAACC,OAAO;UAAE;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACvG;QAAA,GAlBAX,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,GAAG;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAmBb;MAGlB,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACA,iBAEX;AAWX,CAAC;;AAED;AACA;AACA;;AAKA;;AAEA;;AAGA;AAAAxB,EAAA,CAxFaF,OAAO;EAAA,QACCP,WAAW,EACTA,WAAW;AAAA;AAAAyC,EAAA,GAFrBlC,OAAO;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}