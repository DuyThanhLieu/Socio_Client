{"ast":null,"code":"var _jsxFileName = \"/Users/ThanhLieu/Socio_Client/src/components/MessageChatRoom.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport dfAvatar from '../assets/img/defaultAvatar.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const MessageChatRoom = _ref => {\n  _s();\n  let {\n    setShowMessage,\n    conversation\n  } = _ref;\n  const dispatch = useDispatch();\n  // redux\n  const AuthData = useSelector(state => state.AuthReducer.user);\n  const onlineUser = useSelector(state => state.OnlineUserReducer.onlineUser);\n  const [userData, setUserData] = useState(null);\n  const handleToggleConversation = async () => {\n    setShowMessage(false);\n    await dispatch({\n      type: 'CONVERSATION_DATA',\n      payload: conversation\n    });\n    setShowMessage(true);\n  };\n  useEffect(() => {\n    const GetUserInfo = async () => {\n      let Members = conversation.participants;\n      let otherId = Members.filter(e => e !== (AuthData === null || AuthData === void 0 ? void 0 : AuthData._id));\n      console.log(otherId, 'check');\n      let res = await axios.get(`https://beta-server-8uoh.onrender.com/api/v1/users/${otherId}`);\n      let data = await res.data;\n      setUserData(data);\n    };\n    GetUserInfo();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: userData && /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => {\n        handleToggleConversation();\n      },\n      className: \"flex cursor-pointer items-center gap-2 dark:text-white text-black hover:shadow-2xl p-1 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"rounded-full h-[45px] min-w-[45px] object-cover\",\n          width: '45px',\n          src: (userData === null || userData === void 0 ? void 0 : userData.avatar) || dfAvatar,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this), (onlineUser === null || onlineUser === void 0 ? void 0 : onlineUser.findIndex(user => user.userId === (userData === null || userData === void 0 ? void 0 : userData._id))) !== -1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot w-[9px] bottom-1 right-0 rounded-full first-line: bg-green-500 absolute h-[9px]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot w-[9px] bottom-1 right-0 rounded-full    bg-red-600 absolute h-[9px]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex justify-between text-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            setShowMessage(true);\n          },\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"capitalize text-[.8rem]\",\n            children: (userData === null || userData === void 0 ? void 0 : userData.firstname) + \" \" + (userData === null || userData === void 0 ? void 0 : userData.lastname)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \" text-[.4rem] text-gray-400\",\n          children: \"Today, 10:00am\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n_s(MessageChatRoom, \"RVBL98bThsLbSMkz9FS8votOMqA=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = MessageChatRoom;\nvar _c;\n$RefreshReg$(_c, \"MessageChatRoom\");","map":{"version":3,"names":["axios","React","useEffect","useState","useDispatch","useSelector","dfAvatar","jsxDEV","_jsxDEV","Fragment","_Fragment","MessageChatRoom","_ref","_s","setShowMessage","conversation","dispatch","AuthData","state","AuthReducer","user","onlineUser","OnlineUserReducer","userData","setUserData","handleToggleConversation","type","payload","GetUserInfo","Members","participants","otherId","filter","e","_id","console","log","res","get","data","children","onClick","className","width","src","avatar","alt","fileName","_jsxFileName","lineNumber","columnNumber","findIndex","userId","firstname","lastname","_c","$RefreshReg$"],"sources":["/Users/ThanhLieu/Socio_Client/src/components/MessageChatRoom.jsx"],"sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport dfAvatar from '../assets/img/defaultAvatar.png';\n\nexport const MessageChatRoom = ({ setShowMessage, conversation }) => {\n    const dispatch = useDispatch()\n    // redux\n    const AuthData = useSelector(state => state.AuthReducer.user)\n    const onlineUser = useSelector(state => state.OnlineUserReducer.onlineUser)\n\n    const [userData, setUserData] = useState(null)\n    const handleToggleConversation = async () => {\n        setShowMessage(false)\n\n        await dispatch({ type: 'CONVERSATION_DATA', payload: conversation })\n        setShowMessage(true)\n    }\n    useEffect(() => {\n\n        const GetUserInfo = async () => {\n            let Members = conversation.participants\n            let otherId = Members.filter(e => e !== AuthData?._id)\n            console.log(otherId, 'check')\n            let res = await axios.get(`https://beta-server-8uoh.onrender.com/api/v1/users/${otherId}`)\n            let data = await res.data\n            setUserData(data)\n\n        }\n        GetUserInfo()\n    }, [])\n\n    return (\n        <>\n            {userData &&\n\n                <div onClick={() => { handleToggleConversation() }} className=\"flex cursor-pointer items-center gap-2 dark:text-white text-black hover:shadow-2xl p-1 rounded-lg\">\n                    <div className=\"relative\">\n                        <img className='rounded-full h-[45px] min-w-[45px] object-cover' width={'45px'} src={userData?.avatar || dfAvatar} alt=\"\" />\n                        {onlineUser?.findIndex(user => user.userId === userData?._id) !== -1 ?\n                            <div className=\"dot w-[9px] bottom-1 right-0 rounded-full first-line: bg-green-500 absolute h-[9px]\"></div>\n                            :\n                            <div className=\"dot w-[9px] bottom-1 right-0 rounded-full    bg-red-600 absolute h-[9px]\"></div>\n                        }\n                    </div>\n                    <div className=\"w-full flex justify-between text-left\">\n                        <div onClick={() => { setShowMessage(true) }} className=\"\">\n                            <h1 className='capitalize text-[.8rem]'>{userData?.firstname + \" \" + userData?.lastname}</h1>\n\n                        </div>\n                        <p className=' text-[.4rem] text-gray-400'>Today, 10:00am</p>\n                    </div>\n                </div>\n            }\n        </>\n\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}